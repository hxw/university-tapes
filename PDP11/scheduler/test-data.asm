

IN SDAT
^LPOFF
INTERP: BEGIN
;R1 POINTS AT SEQUENCE OF 2-WORD "INSTRUCTIONS"
;1ST BYTE = EVENT NUMBER (HEX) TO WAIT ON
;2ND BYTE = EVENT NUMBER (HEX) TO SIGNAL ON
;3RD & 4TH BYTES = NODE IDENTIFICATION, FOR OUTPUT.

NEXT:	MOVB (R1)+, R0
	BPL CONT
	JSR R7, FINISH
	HALT		;SHOULDN'T RETURN FROM FINISH
CONT:	CMPB R0, #'A
	BPL LET
	SUB #'0, R0
	BR GOT
LET:	SUB #'A-10, R0
GOT:	BIT #1, R1
	BEQ PRIN
	TST R0
	BEQ NEXT
	JSR R7, WAIT
	BR NEXT
PRIN:	MOV R0, -(R6)
	MOVB (R1)+, R0
	JSR R7, OUTSYM
	MOVB (R1)+, R0
	JSR R7, OUTSYM
	MOVB #' , R0
	JSR R7, OUTSYM
	;JSR R7, OS
	MOV (R6)+, R0
SIG:	TST R0
	BEQ NEXT
	JSR R7, SIGNAL
	;JSR R7, OS
	BR NEXT

END
PROG1:JSR R1, INTERP
="0E
="IN
="02
="A1
="46
="A3
="8A
="A5
="E0
="M1
="F2
="D8
="46
="DA
="0E
="R1
=-1

PROG2:JSR R1, INTERP
="01
="IN
="10
="M2
="24
="A2
="68
="A4
="01
="R2
="AD
="A6
="C9
="C7
="00
=*5040
="24
="D9
="60
="DB
=-1

PROG3:JSR R1, INTERP
="10
="M3
="35
="B2
="79
="B4
="01
="RM
="BC
="B6
="DF
="D7
="35
="C9
="70
="CB
=-1

PROG4:JSR R1, INTERP
="03
="B1
="57
="B3
="9B
="B5
="E0
="M4
="93
="C8
="57
="CA
="0E
="RM
=-1


^
LD


